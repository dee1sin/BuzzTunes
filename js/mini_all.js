function e(e){console.log(e)}function _(e){return document.getElementById(e)}function $(t){return"string"==typeof t?this.element=document.querySelectorAll(t):"object"==typeof t&&(t.hasOwnProperty("hide")?this.element=t.element.slice():this.element[0]=t),this.CUSTOME=function(){},this._getStyle=function(e,t){var n,r=(e.ownerDocument||document).defaultView;return r&&r.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,r=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=r,t}(n):n):void 0},this.elements=function(){return this.element},this.dump=function(){console.log(this.element)},this.hide=function(){for(var e=0;e<this.element.length;e++)this.element[e].style.display="none";return this},this.show=function(){for(var e=0;e<this.element.length;e++)this.element[e].style.display="block";return this},this.toggle=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];"none"==this._getStyle(t,"display")?t.style.display="block":t.style.display="none"}return this},this.text=function(){if(0==arguments.length)return this.element[0].innerHTML;for(var e=0;e<this.element.length;e++){var t=this.element[e];t.innerHTML=arguments[0]}return this},this.replace=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.outerHTML=arguments[0]}return this},this.remove=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.outerHTML=""}return this},this.append=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.innerHTML=t.innerHTML+arguments[0]}return this},this.appendStart=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.innerHTML=arguments[0]+t.innerHTML}return this},this.css=function(){if(2===arguments.length)for(var e=0;e<this.element.length;e++){var t=this.element[e];t.style.cssText+=";"+arguments[0]+":"+arguments[1]+";"}else if(1===arguments.length){if(!(arguments[0].search(":")>=0||arguments[0].search(";")>=0))return this._getStyle(this.element[0],arguments[0]);for(var e=0;e<this.element.length;e++){var t=this.element[e];t.style.cssText+=";"+arguments[0]+";"}}return this},
    
    
    this.attr=function(){
    if(2===arguments.length)
        for(var t=0;t<this.element.length;t++){
            var n=this.element[t];
            n.setAttribute(arguments[0],arguments[1])
        }else if(1===arguments.length){
            if(e("ATTR "+this.element.length),this.element.length>0){
                var n=this.element[this.element.length-1];
                return n.getAttribute(arguments[0])
            }
            return
        }
    return this
},
    
    this.val=function(){if(1===arguments.length)for(var e=0;e<this.element.length;e++){var t=this.element[e];t.value=arguments[0]}else if(0===arguments.length)return this.element[0].value;return this},this.on=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.addEventListener(arguments[0],arguments[1].bind(t))}return this},this.addClass=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.classList.add(arguments[0])}return this},this.removeClass=function(){for(var e=0;e<this.element.length;e++){var t=this.element[e];t.classList.remove(arguments[0])}return this},this.child=function(){if("object"==typeof arguments[0])if(arguments[0].hasOwnProperty("CUSTOME"))this.element=arguments[0].element;else{for(var e=array(),t=0;t<this.element.length;t++){var n=this.element[t];e.push.apply(temElement,n.querySelectorAll(arguments[0]))}this.element=e}else this.element=arguments[0];return this},this.each=function(){for(var e=arguments[0],t=0;t<this.element.length;t++){var n=this.element[t],r=e.bind(n);r()}return this},this.ajax=function(){var e=arguments[0];return"undefined"==typeof e&&(e={}),e.hasOwnProperty("type")||(e.type="get"),e.hasOwnProperty("url")||(e.url="/"),e.hasOwnProperty("async")||(e.async=!1),e.hasOwnProperty("args")||(e.args=""),e.hasOwnProperty("readystatechange")||(e.readystate=function(){}),this},this}function get(e){var t=new XMLHttpRequest;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.open("GET",e,!1),t.send(),t.responseText}function post(e,t,n,r){return("false"==typeof r||"undefined"==typeof r)&&(r=function(){}),"false"==typeof n|"undefined"==typeof n&&(n=!1),xmlhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xmlhttp.open("POST",e,n),xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xmlhttp.onreadystatechange=r.bind(xmlhttp),xmlhttp.send(t),xmlhttp}function trim(e,t){return"false"==typeof t&&(t=5),e=e.substr(0,t)}function changeAddr(e){window.history.pushState("","",e)}
function showShareDialog(e){event.stopPropagation(),window.addEventListener("keydown",listnerForEscapeShareDialog,!1),$("#shareDialogBox").text(""),$("#shareDialogContainer").show(),addPlayListXML=post("/ajax/shareDialog.php","musicid="+e+"&time"+(new Date).getTime(),!0,function(){4===this.readyState&&200===this.status&&$("#shareDialogBox").text(this.responseText)})}function listnerForEscapeShareDialog(){27==event.keyCode&&(window.removeEventListener(listnerForEscapeShareDialog),hideShareDialogBox())}function hideShareDialogBox(){$("#shareDialogContainer").hide()}function showFullScreenMusic(){isFullScreenMusicPlaying=!0;var e=787,t=304;if(screen.availWidth>e&&screen.availHeight>t){var s=(screen.availWidth-e)/2,i=(screen.availHeight-t)/2;$("#fullScreenMusicController").css("left:"+s+"px;top:"+i+"px;")}$("#fullScreenMusic").show();var o=$("#currentPlayingMusicIcon").attr("src");$("#fullScreenMusicImage").css("background:url("+o+");background-repeat:no-repeat;background-size:cover;"),window.addEventListener("mousemove",showOptionFullScreen,!1),window.addEventListener("keydown",listnerForEscapeFullMusic,!1),setInterval(checkFullScreenVisibility,100)}function hideFullScreenMusic(){isFullScreenMusicPlaying=!1,$("#fullScreenOption").css("opacity:0"),$("#fullScreenMusic").hide(),window.removeEventListener("mousemove",showOptionFullScreen)}function checkFullScreenVisibility(){"0"==$("#fullScreenOption").css("opacity")&&$("#fullScreenOption").css("opacity:1"),currentTime=(new Date).getTime(),currentTime-lastMoved>1500&&$("#fullScreenOption").css("opacity:0;")}function showOptionFullScreen(){lastMoved=(new Date).getTime()}function fullScreenMusicPlay(){audio.paused?(playSound(),$("#fullScreenMusicPlayPause").removeClass("sprite-playIcon"),$("#fullScreenMusicPlayPause").addClass("sprite-pauseIcon")):($("#fullScreenMusicPlayPause").addClass("sprite-playIcon"),$("#fullScreenMusicPlayPause").removeClass("sprite-pauseIcon"),pauseSound())}function fullScreenMusicNextSound(){nextSound();var e=$("#currentPlayingMusicIcon").attr("src");$("#fullScreenMusicImage").css("background:url("+e+");background-repeat:no-repeat;background-size:cover;")}function fullScreenMusicPreviousSound(){previousSound();var e=$("#currentPlayingMusicIcon").attr("src");$("#fullScreenMusicImage").css("background:url("+e+");background-repeat:no-repeat;background-size:cover;")}function listnerForEscapeFullMusic(){27==event.keyCode&&(window.removeEventListener(listnerForEscapeFullMusic),hideFullScreenMusic())}function addToPlayList(e){event.stopPropagation(),window.addEventListener("keydown",listnerForEscapeAddPlaylist,!1),$("#addPlayListBox").text(""),$("#addPlayListContainer").show(),addPlayListXML=post("/ajax/addPlaylistDialog.php","musicid="+e,!0,function(){4===this.readyState&&200===this.status&&$("#addPlayListBox").text(this.responseText)})}function listnerForEscapeAddPlaylist(){27==event.keyCode&&(window.removeEventListener(listnerForEscapeAddPlaylist),hideAddPlayListBox())}function hideAddPlayListBox(){$("#addPlayListContainer").hide()}function createNewPlayList(e){$("#newplayListError").text(""),playlistname=$("#newPlayListName").val(),privacy=_("newPlayListPrivacy").checked,newPlayListXML=post("/db/createNewPlayList.php","playlistname="+playlistname+"&privacy="+privacy+"&musicid="+e,!0,function(){4===this.readyState&&200===this.status&&(jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,"Added To PlayList"),hideAddPlayListBox()):$("#newplayListError").text(jsonObjectResponse.message))})}function addToExistingPlayList(e,t){newPlayListXML=post("/db/addToPlayList.php","playlistname="+t+"&musicid="+e,!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?($("#addtoplaylist_"+jsonObjectResponse.musicid+jsonObjectResponse.playlist).hide(),$("#addedtoplaylist_"+jsonObjectResponse.musicid+jsonObjectResponse.playlist).show()):$("#existingplayListError").text(jsonObjectResponse.message))})}function removeFromExistingPlayList(e,t){newPlayListXML=post("/db/removeFromPlayList.php","playlistname="+t+"&musicid="+e,!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?($("#addtoplaylist_"+jsonObjectResponse.musicid+jsonObjectResponse.playlist).show(),$("#addedtoplaylist_"+jsonObjectResponse.musicid+jsonObjectResponse.playlist).hide()):$("#existingplayListError").text(jsonObjectResponse.message))})}function changeToCreateNewPlaylist(){$("#addToPlayListPopulatedList").show(),$("#createNewPlayListPopulatedList").hide(),$("#changeToCreateNewPlaylistBorder").addClass("addPlayListBorderHighlight"),$("#changeToAddToExistingPlaylistBorder").removeClass("addPlayListBorderHighlight")}function changeToAddToExistingPlaylist(){$("#addToPlayListPopulatedList").hide(),$("#createNewPlayListPopulatedList").show(),$("#changeToAddToExistingPlaylistBorder").removeClass("addPlayListBorderNormal"),$("#changeToAddToExistingPlaylistBorder").addClass("addPlayListBorderHighlight"),$("#changeToCreateNewPlaylistBorder").removeClass("addPlayListBorderHighlight")}function showPlaylistSettingOptionDialog(e){$("#playlistSettingOption_"+e).toggle()}function deletePlayList(e){var t=confirm("Are You Sure?");if(t){post("/db/deletePlayList.php","playlistname="+e,!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),initPageLoader(jsonObjectResponse.profilePlaylistURL)):addMessageBox(1,jsonObjectResponse.message))})}}function changePrivacyToPrivatePlayList(e){post("/db/togglePrivacyPlayList.php","playlistname="+e+"&playlistprivacy=private",!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),$("#playlistSettingOptionPublic_"+jsonObjectResponse.playlistname).hide(),$("#playlistSettingOptionPrivate_"+jsonObjectResponse.playlistname).show()):addMessageBox(1,jsonObjectResponse.message))})}function changePrivacyToPublicPlayList(e){post("/db/togglePrivacyPlayList.php","playlistname="+e+"&playlistprivacy=public",!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),$("#playlistSettingOptionPublic_"+jsonObjectResponse.playlistname).show(),$("#playlistSettingOptionPrivate_"+jsonObjectResponse.playlistname).hide()):addMessageBox(1,jsonObjectResponse.message))})}function addToCurrentPLayingPlayList(e){mainAudioList.push(e),mainAudioListTitle.push($("#audio_"+e).attr("data-title")),audioList.push(e),1==mainAudioList.length&&($("#mediaPlayerContainer").show(),$("#footer").css("margin-bottom:55px;"),startNewAudio(e))}function instantSearch(){"object"==typeof searchXml&&searchXml.abort();var e=$("#searchInput").val();""!=e&&($("#outputSearchResult").css("opacity:0.3;"),searchXml=post("/db/search.php","search="+e,!0,function(){4===this.readyState&&200===this.status&&($("#outputSearchResult").css("opacity:1;"),$("#outputSearchResult").text(this.responseText),$("#outputSearchResult .musicSortCard > .eh").on("click",handleMusicClick),$("#outputSearchResult .musicSortCard > .eh").on("mouseenter",showPlayHover),$("#outputSearchResult .musicSortCard > .eh").on("mouseleave",hidePlayHover),$("#outputSearchResult .MUSIC_SETTING").on("click",toggleMusicIndivisualSetting))}))}function hideSearchBox(){$("#searchBoxShowContiner").css("opacity:0.1;"),setTimeout(function(){$("#searchBoxContainer").hide()},200)}function showSearchBox(){window.addEventListener("keydown",listnerForEscape,!1),$("#searchBoxContainer").show(),_("searchInput").focus(),setTimeout(function(){$("#searchBoxShowContiner").css("opacity:1;")},200)}function listnerForEscape(){27==event.keyCode&&(window.removeEventListener(listnerForEscape),hideSearchBox())}function handleScroll(){document.body.scrollTop>=150?($("#topAudioContainer").show(),$("#topProfileContainer").show(),setTimeout(function(){$("#topAudioContainer").css("opacity:1;"),$("#topProfileContainer").css("opacity:1;")},0)):document.body.scrollTop<150&&($("#topAudioContainer").css("opacity:0;"),$("#topProfileContainer").css("opacity:0;"),setTimeout(function(){document.body.scrollTop<150&&($("#topAudioContainer").hide(),$("#topProfileContainer").hide())},500))}function audioStartedPlaying(){$("#playBottomButton").hide(),$("#waitingBottomButton").hide(),$("#pauseBottomButton").show()}function audioPausedPlaying(){$("#playBottomButton").show(),$("#pauseBottomButton").hide(),$("#waitingBottomButton").hide()}function audioWaitingPlaying(){$("#playBottomButton").hide(),$("#pauseBottomButton").hide(),$("#waitingBottomButton").show()}function audioStalledPlaying(){e("Sorry! Media is not available.Its Stalled. Please Check Your Internet Connection.")}function changeVolumeFromBottom(e){audio.volume=parseInt(e.value)/100}function toggleVolumeBottom(){$("#bottomVolumeContainer").toggle()}function previousSound(){var e=audio.src.split("/").pop().split(".").shift();mainAudioList.indexOf(e)>0&&(audioList=Array(),audioList.push(mainAudioList[mainAudioList.indexOf(e)-1]),startNewAudio(mainAudioList[mainAudioList.indexOf(e)-1]))}function nextSound(){var e=audio.src.split("/").pop().split(".").shift();mainAudioList.indexOf(e)<mainAudioList.length-1&&(audioList=Array(),audioList.push(mainAudioList[mainAudioList.indexOf(e)+1]),startNewAudio(mainAudioList[mainAudioList.indexOf(e)+1]))}function handleMusicClick(){if(musicid=this.getAttribute("data-musicid"),audioList.length>0&&musicid==audio.src.split("/").pop().split(".").shift())return audio.paused?($("#hoverCardMusic_sprite_"+musicid).attr("class","sprite sprite-hoverPauseIcon"),audio.currentTime=audio.currentTime,void audio.play()):($("#hoverCardMusic_sprite_"+musicid).attr("class","sprite sprite-hoverPlayIcon"),void pauseSound());mainAudioList=Array(),mainAudioListTitle=Array();var e=$("#audio_"+musicid).attr("data-playlistclass");for($("."+e).each(function(){mainAudioList.push(this.getAttribute("data-filename"))}),i=0;i<mainAudioList.length;i++)mainAudioListTitle.push($("#audio_"+mainAudioList[i]).attr("data-title"));1==audioList.length&&$("#hoverCardMusic_"+audioList[0]).hide(),(0==audioList.length||1==audioList.length)&&(startNewAudio(musicid),$("#mediaPlayerContainer").show(),$("#footer").css("margin-bottom:55px;")),audioList[0]=musicid}function playSound(){var e=audio.src.split("/").pop().split(".").shift();$("#hoverCardMusic_sprite_"+e).attr("class","sprite sprite-hoverPauseIcon"),audio.play()}function pauseSound(){var e=audio.src.split("/").pop().split(".").shift();$("#hoverCardMusic_sprite_"+e).attr("class","sprite sprite-hoverPlayIcon"),audio.pause()}function audioEnded(){var e=audio.src.split("/").pop().split(".").shift();$("#hoverCardMusic_"+audioList[0]).hide(),audioList.shift(),isRpeatModeOn&&mainAudioList.indexOf(e)==mainAudioList.length-1?(audioList=Array(),audioList.push(mainAudioList[0]),startNewAudio(audioList[0])):mainAudioList.indexOf(e)!=mainAudioList.length-1&&(audioList=Array(),audioList.push(mainAudioList[mainAudioList.indexOf(e)+1]),startNewAudio(audioList[0]))}function startNewAudio(e){var t=audio.src.split("/").pop().split(".").shift();$("#hoverCardMusic_"+t).hide(),img=$("#audio_"+e).attr("data-img"),title=$("#audio_"+e).attr("data-title"),name=$("#audio_"+e).attr("data-name"),(void 0!=title||"undefined"!=title||""==title)&&($("#currentPlayingMusicIcon").attr("src",img),$("#currentPlayingMusicTitle").text(title),$("#currentPlayingMusicUploader").text(name)),$("#hoverCardMusic_"+e).show(),$("#hoverCardMusic_sprite_"+e).attr("class","sprite sprite-hoverPauseIcon"),post("/db/updateViewCount.php","musicid="+e,!0,function(){if(4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status)){$("#currentPlayingMusicIcon").attr("src",jsonObjectResponse.image),$("#currentPlayingMusicTitle").text(jsonObjectResponse.title),$("#currentPlayingMusicUploader").text(jsonObjectResponse.username),audio.src=jsonObjectResponse.music,audio.load(),audio.play();var e=audio.src.split("/").pop().split(".").shift();mainAudioList.length>1&&(0==mainAudioList.indexOf(e)?$(".previousSoundBottom").css("opacity:0.6;cursor:not-allowed"):$(".previousSoundBottom").css("opacity:1;cursor:pointer;"),mainAudioList.indexOf(e)==mainAudioList.length-1?$(".nextSoundBottom").css("opacity:0.6;cursor:not-allowed"):$(".nextSoundBottom").css("opacity:1;cursor:pointer;"))}})}function updateAudioTime(){progress=audio.currentTime/audio.duration*100,isNaN(audio.currentTime)?currentTime="0:00":currentTime=secondsToHms(audio.currentTime),isNaN(audio.duration)?totalDuration="0:00":totalDuration=secondsToHms(audio.duration),$("#audioCurrentTime").text(currentTime),$("#audioEndTime").text(totalDuration),$("#audioProgress").css("width:"+progress+"%;"),FULL_MUSIC&&FULL_MUSIC_ID==audio.src.split("/").pop().split(".").shift()&&updatePlayedWaveform()}function secondsToHms(e){e=Number(e);var t=Math.floor(e/3600),s=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(t>0?t+":"+(10>s?"0":""):"")+s+":"+(10>i?"0":"")+i}function changeShowTimeOnOverPos(){posistion=event.pageX-document.getElementById("audioProgressContainer").offsetLeft-30,posistion>=-30&&posistion<=270?(seekDisplayTime=secondsToHms((posistion+30)/300*audio.duration),$("#showTimeOnhover").text(seekDisplayTime),$("#showTimeOnhover").show(),isNaN(seekDisplayTime),$("#showTimeOnhover").css("left:"+posistion+"px;")):$("#showTimeOnhover").hide()}function changeAudioPlayTime(){posistion=event.pageX-document.getElementById("audioProgressContainer").offsetLeft-30,posistion>=-30&&posistion<=270&&(audio.currentTime=(posistion+30)/300*audio.duration,audio.play())}function hideShowTimeOnOverPos(){$("#showTimeOnhover").hide()}function toggleBottomPlayeList(){for(playListContent="",i=0;i<mainAudioList.length;i++)item=mainAudioList[i],playListTitle=mainAudioListTitle[i],audioList.length>0&&item==audioList[0]?playListContent+="<li style='background:rgba(120,120,120,0.8);;' onclick='playAudioFromPlaylistClick(\""+item+"\")'>"+playListTitle+"</li>":playListContent+="<li onclick='playAudioFromPlaylistClick(\""+item+"\")'>"+playListTitle+"</li>";""==playListContent&&(playListContent="<li>Play List Is Empty</li>"),$("#bottomPlayList").text(playListContent),$("#bottomPlayList").toggle()}function playAudioFromPlaylistClick(e){event.stopPropagation(),audioList=new Array,audioList.push(e),startNewAudio(e),toggleBottomPlayeList(),toggleBottomPlayeList()}function showPlayHover(){var e=audio.src.split("/").pop().split(".").shift();id=this.getAttribute("data-musicid"),(null==audio||!audio.paused||id!=e||this.hasOwnProperty("pageloaded"))&&($("#hoverCardMusic_"+id).show(),id==e?$("#hoverCardMusic_sprite_"+id).attr("class","sprite sprite-hoverPauseIcon"):$("#hoverCardMusic_sprite_"+id).attr("class","sprite sprite-hoverPlayIcon"),this.hasOwnProperty("pageloaded")&&(audio.paused?$("#hoverCardMusic_sprite_"+id).attr("class","sprite sprite-hoverPlayIcon"):$("#hoverCardMusic_sprite_"+id).attr("class","sprite sprite-hoverPauseIcon")))}function hidePlayHover(){var e=audio.src.split("/").pop().split(".").shift();id=this.getAttribute("data-musicid"),null!=audio&&audio.paused&&id==e||id!=audioList[0]&&$("#hoverCardMusic_"+id).hide()}function toggleRepeatModeBottom(){isRpeatModeOn=!isRpeatModeOn,isRpeatModeOn?$("#repeatModeBottom").attr("class","sprite sprite-repeatIconEnabled_35"):$("#repeatModeBottom").attr("class","sprite sprite-repeatIcon_35")}function startHomeBanner(){for($("#homebanner"+homebannercurrentlist).css("left:0%"),i=1;i<=3;i++)i!=homebannercurrentlist&&$("#homebanner"+i).css("left:-100%");for($("#homebanner"+(homebannercurrentlist-1)).css("left:100%"),i=1;i<=3;i++)i==homebannercurrentlist?($("#homeBannerIndicator"+i).removeClass("bannerNumber"),$("#homeBannerIndicator"+i).addClass("bannerNumberHighlight")):($("#homeBannerIndicator"+i).addClass("bannerNumber"),$("#homeBannerIndicator"+i).removeClass("bannerNumberHighlight"));homebannercurrentlist++,homebannercurrentlist>3&&(homebannercurrentlist=1)}function toggleMusicIndivisualSetting(){try{var e=this.getAttribute("data-settingid");$("#"+e).toggle()}catch(t){}}function chnageIndivisualMusicToPrivate(e){post("/db/toggleMusicPrivacy.php","musicid="+e+"&privacy=private",!0,function(){4===this.readyState&&200===this.status&&(jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),$("#settingPublic_"+jsonObjectResponse.musicid).hide(),$("#settingPrivate_"+jsonObjectResponse.musicid).show()):addMessageBox(1,jsonObjectResponse.message))})}function chnageIndivisualMusicToPublic(e){post("/db/toggleMusicPrivacy.php","musicid="+e+"&privacy=public",!0,function(){4===this.readyState&&200===this.status&&(jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),$("#settingPublic_"+jsonObjectResponse.musicid).show(),$("#settingPrivate_"+jsonObjectResponse.musicid).hide()):addMessageBox(1,jsonObjectResponse.message))})}function deleteIndivisualMusic(e){var t=window.confirm("Are You Sure");if(t){post("/db/deleteMusic.php","musicid="+e,!0,function(){4===this.readyState&&200===this.status&&(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status?(addMessageBox(0,jsonObjectResponse.message),$("#musicSortCard_"+jsonObjectResponse.musicid).hide()):addMessageBox(1,jsonObjectResponse.message))})}}function startAudioWaveform(e){return FULL_MUSIC_ID==audio.src.split("/").pop().split(".").shift()?audio.paused?(audio.currentTime=audio.currentTime,void audio.play()):void pauseSound():(FULL_MUSIC=!0,audioList=Array(),audioList[0]=e,$("#mediaPlayerContainer").show(),$("#footer").css("margin-bottom:55px;"),void startNewAudio(e))}function updatePlayedWaveform(){per=audio.currentTime/audio.duration*100,mainCanvas=document.getElementById("waveformCanvas"),playedCanvas=document.getElementById("waveformCanvasPlayed"),mainCanvasCtx=mainCanvas.getContext("2d"),playedCanvasCtx=playedCanvas.getContext("2d"),playedCanvasCtx.clearRect(0,0,600,100);for(var e=mainCanvasCtx.getImageData(0,0,600*per*.01,100),t=0;t<e.data.length;t+=4)0!=e.data[t]&&(e.data[t]=255),0!=e.data[t+1]&&(e.data[t+1]=120),0!=e.data[t+2]&&(e.data[t+2]=0);playedCanvasCtx.putImageData(e,0,0)}function seekPlayedWaveformOut(){FULL_MUSIC&&FULL_MUSIC_ID==audio.src.split("/").pop().split(".").shift()&&seekCanvasCtx.clearRect(0,0,600,100)}function seekFromWaveform(){if(FULL_MUSIC&&FULL_MUSIC_ID==audio.src.split("/").pop().split(".").shift()){offsetElement=document.getElementById("waveformContainer");var e=event.pageX-offsetElement.offsetLeft;perSeek=e/600*100,audio.currentTime=audio.duration*perSeek*.01}}function seekPlayedWaveform(){if(FULL_MUSIC&&FULL_MUSIC_ID==audio.src.split("/").pop().split(".").shift()){mainCanvas=document.getElementById("waveformCanvas"),seekCanvas=document.getElementById("waveformCanvasSeek"),mainCanvasCtx=mainCanvas.getContext("2d"),seekCanvasCtx=seekCanvas.getContext("2d"),offsetElement=document.getElementById("waveformContainer");var e=event.pageX-offsetElement.offsetLeft;perSeek=e/600*100,seekCanvasCtx.clearRect(0,0,600,100);for(var t=mainCanvasCtx.getImageData(0,0,600*perSeek*.01,100),s=0;s<t.data.length;s+=4)0!=t.data[s]&&(t.data[s]=120),0!=t.data[s+1]&&(t.data[s+1]=255),0!=t.data[s+2]&&(t.data[s+2]=0);seekCanvasCtx.putImageData(t,0,0)}}function updateWaveformCanvas(){var e=document.getElementById("waveformCanvas"),t=e.getContext("2d"),s=document.getElementById("loadedWaveform");t.drawImage(s,0,0,s.naturalWidth,s.naturalHeight,0,0,600,100)}function initPageLoader(e){FULL_MUSIC=!1,FULL_MUSIC_ID="";var t=(new Date).getTime();"object"==typeof xml&&xml.abort(),xml=post("/page/ajaxPageLoader.php","page="+e,!0,function(){if(4==this.readyState&&200==this.status){var e=(new Date).getTime();$(".page").css("opacity:0.1;"),setTimeout(showPageContent.bind(this),e-t>500?0:500)}else $("#loaderContiner").show();4===this.readyState&&setTimeout(function(){$("#loaderContiner").hide()},500)})}function showPageContent(){jsonObjectResponse=JSON.parse(this.responseText),$("#loaderContiner").hide();var e=jsonObjectResponse.pageid;(2===e||3===e||4===e)&&($(".page").css("background:#DDD"),$("#pageContiner").show(),$("#fullScreenContent").hide(),$(".page").text(jsonObjectResponse.content)),5===e?($("#pageContiner").hide(),$("#fullScreenContent").show(),$("#fullScreenContent").text(jsonObjectResponse.content),"1"==jsonObjectResponse.wavegenrated,FULL_MUSIC=!0,FULL_MUSIC_ID=jsonObjectResponse.audiofile.split(".").shift()):6===e?($("#pageContiner").hide(),$("#fullScreenContent").show(),$("#fullScreenContent").text(jsonObjectResponse.content)):(8===e&&($(".LOGGEDIN").hide(),$(".NOTLOGGEDIN").show()),$(".page").css("background:#FFF"),$("#pageContiner").show(),$("#fullScreenContent").hide(),$(".page").text(jsonObjectResponse.content)),$("title").text(jsonObjectResponse.title),$(".body a").on("click",handleAncherClick),$(".musicSortCard > .eh").on("click",handleMusicClick),$(".musicSortCard > .eh").on("mouseenter",showPlayHover),$(".musicSortCard > .eh").on("mouseleave",hidePlayHover),$(".MUSIC_SETTING").on("click",toggleMusicIndivisualSetting),tmp=document.getElementsByClassName("autofocus")[0],"undefined"!=typeof tmp&&tmp.focus(),setTimeout(function(){if($(".page").css("opacity:1;"),0!=audioList.length){var e=audio.src.split("/").pop().split(".").shift();ele=$("#audio_"+e).elements(),ele=ele[0],ele.pageloaded=!0;var t=showPlayHover.bind(ele);t()}},200)}function handleAncherClick(){event.preventDefault(),initPageLoader(event.target.origin+event.target.getAttribute("href")),p=event.target.origin,changeAddr(event.target.getAttribute("href").substring(p))}function login(){var e=$("#loginName").val();t=$("#loginPass").val(),a=_("logincheckbox").checked,""==e||""==t?$("#wrongpassword").text("Enter both username and password"):($("#wrongpassword").text(""),$("#loginProcessing").show(),$("#loginButton").css("opacity:0.2"),$("#loginButton").attr("onclick",""),loginXml=post("/db/login.php","username="+e+"&pass="+t+"&remem="+a,!0,function(){if(4==this.readyState&&200==this.status)if(jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status){var e=window.location.protocol+"//"+window.location.host;initPageLoader(e),changeAddr(e),$(".LOGGEDIN").show(),$(".NOTLOGGEDIN").hide(),$("#topSettingUsername >  a").attr("href","/user/"+jsonObjectResponse.username+"/overview"),addMessageBox(0,jsonObjectResponse.message)}else $("#wrongpassword").text(jsonObjectResponse.message);4==this.readyState&&($("#loginProcessing").hide(),$("#loginButton").css("opacity:1"),$("#loginButton").attr("onclick","login()"))}))}function signup(){var e=$("#signUpName").val(),t=$("#signUpPass").val(),s=$("#signUpConfirm").val();return""==e||""==t||""==s?void $("#signuperror").text("Username and Password are required."):($("#signuperror").text(""),s!=t?void $("#signuperror").text("Password and Confirm password did not match."):($("#signuperror").text(""),$("#signupProcessing").show(),$("#signupButton").css("opacity:0.2"),$("#signupButton").attr("onclick",""),void(signupXMLHttp=post("/db/signup.php","username="+e+"&pass="+t,!0,function(){if(4==this.readyState&&200==this.status)if(console.log(this.responseText),jsonObjectResponse=JSON.parse(this.responseText),1==jsonObjectResponse.status){var e=window.location.protocol+"//"+window.location.host+"/login";initPageLoader(e),changeAddr(e),addMessageBox(0,jsonObjectResponse.message)}else $("#signuperror").text(jsonObjectResponse.message);4==this.readyState&&($("#signupProcessing").hide(),$("#signupButton").css("opacity:1"),$("#signupButton").attr("onclick","signup()"))}))))}function validateAudioFile(){var e=document.getElementById("uploadmusic");try{if(void 0==e||void 0==e.files[0].type||0==e.files[0].size)return void $("#errorMusicUpload").text("Select Sound File.");$("#errorMusicUpload").text("")}catch(e){}}function changeToStepTwo(){$("#errorMusicUpload").text("");var e=_("uploadmusic").files[0];return void 0==e||void 0==e.type||0==e.size?void $("#errorMusicUpload").text("Select Sound File First."):($("#musictitle").val(""+e.name.split(".").shift()),$("#uploadStepOne").hide(),void $("#uploadStepTwo").show())}function tagChanged(){}function changeToStepOne(){$("#uploadStepTwo").hide(),$("#uploadStepOne").show()}function uploadMusic(){var e=_("uploadmusic").files[0];if(void 0==e||void 0==e.type||0==e.size)return void $("#errorMusicUpload").text("Select Sound File First.");if(""===$("#musictitle").val().trim())return void $("#errorMusicUpload").text("Enter Title ");if($("#errorMusicUpload").text(""),""===$("#musicUploadTag").val().trim())return void $("#errorMusicUpload").text("Enter Tag ");$("#errorMusicUpload").text("");var t=_("musicUploadPic").files[0];$("#uploadProcessing").show();var s=_("newMusicPrivacy").checked,i=new FormData;i.append("audiofile1",e),i.append("musicfile1",t),i.append("title",$("#musictitle").val()),i.append("tag",$("#musicUploadTag").val()),i.append("privacy",s),i.append("description",$("#musicUploadDescription").val());var o=new XMLHttpRequest;o.upload.addEventListener("progress",progressHandler,!1),o.addEventListener("load",completeHandler,!1),o.addEventListener("error",errorHandler,!1),o.addEventListener("abort",abortHandler,!1),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status)if(console.log(o.responseText),jsonObjectResponse=JSON.parse(o.responseText),1==jsonObjectResponse.status){var e=window.location.protocol+"//"+window.location.host;initPageLoader(e),changeAddr(e),addMessageBox(0,jsonObjectResponse.message)}else $("#errorMusicUpload").text(jsonObjectResponse.message)},o.open("POST","/upload/upload.php"),o.send(i)}function stopUploading(){ajax.abort()}function progressHandler(e){var t=e.loaded/e.total*100;$("#progressBar").css("width:"+Math.round(t)+"%"),_("status").innerHTML=Math.round(t)+"% uploaded... please wait"}function completeHandler(e){$("#uploadProcessing").hide(),console.log(ajax.responseText)}function errorHandler(e){$("#uploadProcessing").hide(),$("#errorMusicUpload").hide("Some Unknown Error")}function abortHandler(e){$("#uploadProcessing").hide(),$("#errorMusicUpload").hide("Upload Cancled.")}function previewImage(){var e=document.getElementById("musicUploadPic");try{if(void 0==e||void 0==e.files[0].type||0==e.files[0].size)return}catch(e){$("#imagePreview").attr("src","/image/defaultMusicIcon.jpg")}if(e.files&&e.files[0]){var t,s,i,o=new FileReader;o.onload=function(o){var a=o.target.result,n=document.createElement("img");n.src=a,t=n.width,s=n.height,i=e.files[0].size,$("#imagePreview").attr("src",n.src)},o.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},o.readAsDataURL(e.files[0])}}function previewAndUpload(){PREVIOUS_IMG_PATH=$("#userProfilePic").attr("src");var e=document.getElementById("uploadProfilePicInput");try{if(void 0==e||void 0==e.files[0].type||0==e.files[0].size)return}catch(e){}if(e.files&&e.files[0]){var t,s,i,o=new FileReader;o.onload=function(o){var a=o.target.result,n=document.createElement("img");n.src=a,t=n.width,s=n.height,i=e.files[0].size,$("#userProfilePic").attr("src",n.src)},o.onerror=function(e){console.error("File could not be read! Code "+e.target.error.code)},o.readAsDataURL(e.files[0]),$("#profilePicUplodeProgress").show();var a=_("uploadProfilePicInput").files[0],n=new FormData;n.append("profilePic",a);var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(jsonObjectResponse=JSON.parse(r.responseText),1==jsonObjectResponse.status?addMessageBox(0,jsonObjectResponse.message):3==jsonObjectResponse.status?addMessageBox(1,jsonObjectResponse.message):$("#userProfilePic").attr("src",PREVIOUS_IMG_PATH)),4==r.readyState&&$("#profilePicUplodeProgress").hide()},r.open("POST","/upload/uploadProfilePic.php"),r.send(n)}}function previewAndUploadProfileCover(){PREVIOUS_IMG_PATH="";var e=document.getElementById("uploadProfileCoverInput");try{if(void 0==e||void 0==e.files[0].type||0==e.files[0].size)return}catch(e){}if(e.files&&e.files[0]){var t=_("uploadProfileCoverInput").files[0],s=new FormData;s.append("profileCover",t);var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&(console.log(i.responseText),jsonObjectResponse=JSON.parse(i.responseText),1==jsonObjectResponse.status?$("#userProfileCoverPic").css("background:url("+jsonObjectResponse.profileCover+");background-size:cover;background-repeat:no-repeat;"):3==jsonObjectResponse.status?addMessageBox(1,jsonObjectResponse.message):4==jsonObjectResponse.status?addMessageBox(1,jsonObjectResponse.message):$("#userProfileCoverPic").css("background:"+PREVIOUS_IMG_PATH)),4==i.readyState},i.open("POST","/upload/uploadProfileCover.php"),i.send(s)}}var lastMoved=0,isFullScreenMusicPlaying=!1;window.addEventListener("scroll",handleScroll),audio=new Audio;var audioList=new Array,mainAudioList=new Array,mainAudioListTitle=new Array,isRpeatModeOn=!1;audio.addEventListener("timeupdate",updateAudioTime,!1),audio.addEventListener("playing",audioStartedPlaying,!1),audio.addEventListener("pause",audioPausedPlaying,!1),audio.addEventListener("ended",audioEnded,!1),audio.addEventListener("waiting",audioWaitingPlaying,!1),audio.addEventListener("stalled",audioStalledPlaying,!1),window.onpopstate=function(e){initPageLoader(window.location.href)},homebannercurrentlist=0,numberOfHomebanner=3,window.addEventListener("load",function(){setInterval(startHomeBanner,7e3)}),homebannercurrentlist=1;var FULL_MUSIC=!1,FULL_MUSIC_ID="",readyStateCheckInterval=setInterval(function(){h=screen.availHeight-51-51-53,$(".page").css("min-height:"+h+"px;"),"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),initPageLoader(window.location.href),$("a").on("click",handleAncherClick))},10);